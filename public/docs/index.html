<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SpawnHero RPG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/styles/app.css">
</head>
<body>
  <header>
    <div class="top-bar">
      <div class="top-bar-left">
        <div class="top-bar-title">
          <h2>
            <span class="title">
              <a href="/">SpawnHero RPG</a>
            </span>
            <span class="subtitle">
              <a href="/">Games</a>
              <a href="/plan">Prototype</a>
              <a href="/build">Set Up</a>
              <a class="active" href="/docs">Code</a>
              <a href="/game-art">Game Art</a>
            </span>
          </h2>
        </div><!--top-bar-title-->
      </div>
    </div><!--top-bar-->
  </header>

  <div class='content'>

    <!--<div class="banner-container">
      <div class="banner">
        <div class="banner-image" style="background-image:url('http://placehold.it/1300x500/')">
        </div>
      </div>
    </div>-->

    <div class="hero-container">
      <div class="hero">
        <h1 class="hero-title">SpawnHero RPG:<br>Programming Documentation</h1>
        <!-- <p class="hero-paragraph">Below are the resources you will need to build a level for SpawnHero 2.</p> -->
        <!-- <a href="/upload" class="upload-button">Upload a Game</a> -->
      </div><!--.banner-->
    </div><!--.banner-container-->

    <div class="standard-container">
      <div class="row">
        <div class="small-12 large-8 columns">

<h2 id="programming-101">Programming 101</h2>
<p>Value, String, Integer, Boolean, Variable, Set, And, Or</p>

<h2 id="intro">Game Intro &amp; Ending</h2>

<p>All game code will all be contained within the <em>game.js</em> file.</p>

<h3>Game Intro Text</h3>
<p>Write an intro to your game. The intro must be a <span class="highlight-code">string</span>. If you want to insert a line break, you need to add <em>\n\n</em> to represent a new line.</p>

<code>Spawn.introText = <span class="highlight-this">"intro:String"</span>;
</code>

<p>Here is an example of an intro:</p>

<code class="example">Spawn.introText = "Welcome to the Kingdom of Oo.\n\nHelp Finn complete his quests.";
</code>

<h3>Game Win Text</h3>
<p>At the end of a successful game, a message will appear. The game text must be a <span class="highlight-code">string</span>. If you want to insert a line break, you need to add <em>\n\n</em> to represent a new line.</p>

<code>Spawn.gameWinText = <span class="highlight-this">"intro:String"</span>;
</code>

<p>Here is an example of win text:</p>

<code class="example">Spawn.gameWinText = "Congratulations!\n\nYou defeated all the enemies\n\nand saved all the Princesses!";
</code>

<h3>Game Over Text</h3>
<p>At the end of a unsuccessful game, a message will appear. The game text must be a <span class="highlight-code">string</span>. If you want to insert a line break, you need to add <em>\n\n</em> to represent a new line.</p>

<code>Spawn.gameOverText = <span class="highlight-this">"intro:String"</span>;
</code>

<p>Here is an example of game over text:</p>

<code class="example">Spawn.gameOverText = "You didn't quite save all the princesses! Try Again!";
</code>

<h2 id="game-elements">Game Elements</h2>

<h3>Game Level</h3>
<p>You can place many different types of things in SpawnHero RPG. The entire level map will be written inside the <em>Spawn.game</em> function. Don't misplace the closing <em>}</em> at the very end!</p>

<code>Spawn.game = function(){
  <span class="comment">// Your game code goes here.</span>


}</code>

<!-- <p class="tip"><b>Tip!</b> Indent your code when it is "inside" something.</p> -->

<h3 id="hero">Hero</h3>

<div class="icon-left" style="background-image:url('/images/game/images/person-female-4.png')"></div>
<p>
The Hero is the <em>character that the player controls</em> in the game. The hero graphic default looks like this, however, you can set it to look like any asset in the assets directory. See the Game Art page for all the assets you can use.</p>

<h4>Hero Skin</h4>
<p>The <em>optional</em> code to set the hero's appearance is below. Be sure that the hero skin value is a <span class="highlight-code">string</span>.</p>
<code>Settings.hero.default_skin = <span class="highlight-this">"graphic:String"</span>;
</code>

<p>Here is an example with a value:</p>
<code class="example">Settings.hero.default_skin = "assets/images/girl-hero.png";
</code>

<h4>Hero Speed</h4>
<p>The <em>optional</em> code to set the hero's walking speed is below. The value will be in the hundreds range. Be sure that the hero skin value is an <span class="highlight-code">integer</span>.</p>
<code>Settings.hero.default_speed = <span class="highlight-this">speed:Int</span>;
</code>

<p>Here is an example with a value:</p>
<code class="example">Settings.hero.default_speed = 300;
</code>

<h4>Placing the Hero</h4>
<p>The <em>required</em> code to set the hero's start position is below. You need to spawn <span class="restrictions">1 hero</span> in the game for it to be playable. Be sure that the hero's x and y position are <span class="highlight-code">integers</span>.</p>

<code>Spawn.hero(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>);
</code>

<p>Here is an example with values:</p>
<code class="example">Spawn.hero(80, 120);
</code>


<h3 id="objects">Objects</h3>

<div class="icon-left" style="background-image:url('/images/game/images/wall-stone.png')"></div>
<p>Objects are <em>impassable barriers</em> in the game, such as Walls, Trees, Bushes, or Stumps. See the Game Art page to choose any art asset to set for your object. The arguments that must be set for an object are the x and y position, and the graphic. Be sure that the x and y values are set to <span class="highlight-code">integers</span> and the graphic is set to a <span class="highlight-code">string</span>. The notated code to spawn an object is below:</p>

<h4>Placing an Object</h4>
<code>Spawn.object(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">graphic:String</span>);
</code>

<p>Here is an example with values:</p>

<code class="example">Spawn.object(200, 400, "assets/images/tree.png");
</code>

<h3 id="coins">Coins</h3>

<div class="icon-left" style="background-image:url('/images/game/images/item-coin-yellow.png')"></div>
<p>Coins are items that when touched, <em>instantly add points to the player's total coin count</em>. The coin graphic default looks like this, however, you can set it to look like any asset in the assets directory. See the Game Art page for all the assets you can use.</p>

<h4>Coin Default Skin</h4>
<p>The <em>optional</em> code to set the default coin appearance is below. Be sure that the value is a <span class="highlight-code">string</span>. This is a default setting, so it typically only needs to be defined once when the game loads.</p>

<code>Settings.coin.default_skin = <span class="highlight-this">"graphic:String"</span>;
</code>

<p>Here is an example with a value:</p>
<code class="example">Settings.coin.default_skin = "assets/images/crown.png";
</code>

<h4>Coin Default Value</h4>
<p>The <em>optional</em> code to set the default coin value is below. Be sure that the value is an <span class="highlight-code">integer</span>. This is a default setting, so it typically only needs to be defined once when the game loads.</p>
<code>Settings.coin.default_points = <span class="highlight-this">points:Int</span>;
</code>

<p>Here is an example with a value:</p>
<code class="example">Settings.coin.default_points = 1;
</code>

<h4>Placing a Coin</h4>
<p>The code to place a coin on the screen is below. The arguments that must be set for a coin are the x and y position. The point value and an override coin graphic are optional. A good use of a different graphic is a treasure chest (it is a hidden coin, until you touch it). Be sure that the x and y values are set to <span class="highlight-code">integers</span>, the point value is set to an <span class="highlight-code">integer</span>, and the graphic is set to a <span class="highlight-code">string</span>. The notated code to spawn a coin is below:</p>
<code>Spawn.coin(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">?points:Int</span>, <span class="highlight-this">?graphic:String</span>);
</code>

<p>Here are some examples with values:</p>

<code class="example"><span class="comment">// Spawns a coin worth 50 points that uses the crown graphic.</span>
Spawn.coin(200, 400, 50, "assets/images/crown.png");

<span class="comment">// Spawns a coin worth 10 points that uses the default graphic.</span>
Spawn.coin(200, 400, 10);

<span class="comment">// Spawns a coin worth the default points an uses the default graphic.</span>
Spawn.coin(200, 400);
</code>

<h3 id="freeze-slow-speed">Freeze, Slow, &amp; Speed</h3>

<div class="icon-left" style="background-image:url('/images/game/images/item-ice-blue.png')"></div>
<p>When touched Spawn.freeze <em>instantly freezes the player</em>. The default graphic looks like this, however, you can set it to look like any asset in the assets directory. See the Game Art page for all the assets you can use.</p>
<br>
<div class="icon-left" style="background-image:url('/images/game/images/creature-turtle.png')"></div>
<p>When touched Spawn.slow <em>instantly slows the player</em>. The default graphic looks like this, however, you can set it to look like any asset in the assets directory. See the Game Art page for all the assets you can use.</p>
<br>
<div class="icon-left" style="background-image:url('/images/game/images/nature-lightning.png')"></div>
<p>When touched Spawn.speed <em>instantly speeds up the player</em>. The default graphic looks like this, however, you can set it to look like any asset in the assets directory. See the Game Art page for all the assets you can use. Unlike Freeze and Slow, Speed is usually provides positive effects to the player.</p>

<h4>Freeze, Slow, &amp; Speed Default Skins</h4>
<p>The <em>optional</em> code to set the default appearance for these items is below. Be sure that the value for any of these items is a <span class="highlight-code">string</span>. This is a default setting, so they typically only need to be defined once when the game loads.</p>
<code>Settings.freeze.default_skin = <span class="highlight-this">"graphic:String"</span>;
</code>
<code>Settings.slow.default_skin = <span class="highlight-this">"graphic:String"</span>;
</code>
<code>Settings.speed.default_skin = <span class="highlight-this">"graphic:String"</span>;
</code>

<p>Here are examples with values:</p>
<code class="example">Settings.speed.default_skin = "assets/images/lightning.png";
Settings.slow.default_skin = "assets/images/turtle.png";
Settings.freeze.default_skin = "assets/images/ice.png";
</code>

<h4>Freeze, Slow, &amp; Speed Default Durations</h4>
<p>The <em>optional</em> code to set the default duration of these items is below. Be sure that the value for any of these items is an <span class="highlight-code">integer</span>. These are default setting, so they typically only need to be defined once when the game loads.</p>
<code>Settings.freeze.default_duration = <span class="highlight-this">points:Int</span>;
</code>
<code>Settings.slow.default_duration = <span class="highlight-this">points:Int</span>;
</code>
<code>Settings.speed.default_duration = <span class="highlight-this">points:Int</span>;
</code>

<p>Here are examples with a values:</p>
<code class="example">Settings.freeze.default_duration = 3;
Settings.slow.default_duration = 3;
Settings.speed.default_duration = 3;
</code>

<h4>Placing a Freeze, Slow, or Speed Item</h4>
<p>The code to place a freeze, slow, or speed item on the screen is below. The arguments that must be set for any of these items are the x and y position. The duration and an override graphic are optional. A good use of a different graphic is a trap (it looks like a treasure chest though it's really a item that has an effect on the player when touched). Be sure that the x and y values are set to <span class="highlight-code">integers</span>, the point value is set to an <span class="highlight-code">integer</span>, and the graphic is set to a <span class="highlight-code">string</span>. The notated code to spawn a one of these items is below:</p>

<code>Spawn.freeze(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">?duration:Int</span>, <span class="highlight-this">?graphic:String</span>);
</code>
<code>Spawn.slow(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">?duration:Int</span>, <span class="highlight-this">?graphic:String</span>);
</code>
<code>Spawn.speed(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">?duration:Int</span>, <span class="highlight-this">?graphic:String</span>);
</code>

<p>Here are some examples with values:</p>

<code class="example"><span class="comment">// Spawns a Freeze item that uses the default duration and graphic</span>
Spawn.freeze(200, 400);

<span class="comment">// Spawns a Slow item that lasts for a duration of 12 and uses the default graphic.</span>
Spawn.slow(200, 400, 12);

<span class="comment">// Spawns a Speed item that lasts for a duration of 5 and uses the wand graphic.</span>
Spawn.speed(200, 400, 5, "assets/images/wand.png");
</code>

<h3 id="enemies">Enemies</h3>

<div class="icon-left" style="background-image:url('/images/game/images/creature-robot-grey.png')"></div>
<p>An enemy <em>deducts life when it touches the Hero.</em>The hero can fend off an enemy by attacking with [Spacebar]. The enemy graphic default looks like this, however, you can set it to look like any asset in the assets directory. See the Game Art page for all the assets you can use.</p>

<h4>Enemy Default Skin</h4>
<p>The <em>optional</em> code to set the default enemy appearance is below. Be sure that the value is a <span class="highlight-code">string</span>. This is a default setting, so it typically only needs to be defined once when the game loads.</p>

<code>Settings.enemy.default_skin = <span class="highlight-this">"graphic:String"</span>;
</code>

<p>Here is an example with a value:</p>
<code class="example">Settings.enemy.default_skin = "assets/images/ghost.png";
</code>

<h4>Enemy Default Speed</h4>
<p>The <em>optional</em> code to set the default enemy speed is below. Be sure that the value is an <span class="highlight-code">integer</span>. This is a default setting, so it typically only needs to be defined once when the game loads.</p>
<code>Settings.enemy.default_speed = <span class="highlight-this">points:Int</span>;
</code>

<p>Here is an example with a value:</p>
<code class="example">Settings.enemy.default_speed = 100;
</code>

<h4>Placing an Enemy</h4>
<p>The first 2 arguments x and y are <span class="highlight-code">integers</span> that spawn an enemy at ( x,y ) position. <em>The first 2 arguments are required.</em></p>

<p>The third argument is a <span class="highlight-code">string</span> that sets the enemy graphic (optional). If it is not set, the default graphic will be used.</p>

<p>The fourth argument is a <span class="highlight-code">string</span> that is either <em>"up"</em>, <em>"down"</em>, <em>"left"</em>, or <em>"right"</em>. The enemy will initially start walking in the direction defined and will continue walking until it bumps into an object (then it will walk in the opposite direction). If no direction is set, the enemy will not move until something hits it.</p>

<p>The fifth argument is an <span class="highlight-code">integer</span> that sets the enemy speed (optional). If it is not set, the default speed will be used.</p>


<p>The notated code to spawn an enemy is below:</p>

<code>Spawn.enemy(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">?graphic:String</span>, <span class="highlight-this">?direction:String</span>, <span class="highlight-this">?speed:Int</span>);
</code>

<p>Here are some examples of enemies with values:</p>

<code class="example"><span class="comment">// Spawns an enemy with the robot skin, that does not move.
// The direction is set though doesn't do anything.</span>
Spawn.enemy(200, 400, "assets/images/robot.png");

<span class="comment">// Spawns an enemy that moves "up"
// at the default speed.</span>
Spawn.enemy(200, 400, "assets/images/robot.png", "up");

<span class="comment">// Spawns an enemy that moves right at 800 speed.</span>
Spawn.enemy(200, 400, "assets/images/robot.png", "right", 800);

</code>

<h4>Enemy Methods</h4>

<code><span class="comment">// methods, need docs for these</span>

<span class="comment">// die()</span>
die()

<span class="comment">// despawn()</span>
despawn()
</code>

<h3 id="collectable-sprites">Collectable Sprites</h3>

<div class="icon-left" style="background-image:url('/images/game/images/item-sword-yellow.png')"></div>
<p>Collectable Sprites are things that <em>can be "picked up"</em> in the game and added to your inventory, such as Weapons, Packages, Scrolls, Potions, and Keys. Collectable sprites can be walked over so they do not block the player's path. See the Game Art page to choose any art asset to set for your collectable sprite. The arguments that must be set for a collectable sprite are the x and y position, and the graphic. Be sure that the x and y values are set to <span class="highlight-code">integers</span> and the graphic is set to a <span class="highlight-code">string</span>. The notated code to spawn an collectable sprite is below:</p>

<code>Spawn.collectableSprite(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">graphic:String</span>);
</code>

<p>Here is an example with values:</p>

<code class="example">Spawn.collectableSprite(200, 400, "assets/images/scroll.png");
</code>

<h4>Collectable Methods</h4>

<code><span class="comment">// methods, need docs for these</span>

<span class="comment">// despawn()</span>
despawn()

<span class="comment">// onCollect()</span>
onCollect() = function(){
  if(player.coins >= 10){
    <span class="comment">// this happens...</span>
  }else{
    <span class="comment">// otherwise this default happens...</span>
  }
}
</code>

<h3 id="interactable-sprites">Interactable Sprites</h3>

<div class="icon-left" style="background-image:url('/images/game/images/item-sign-brown.png')"></div>
<p>Interactable Sprites are <em>impassable barriers that can be "talked to"</em> in the game by pressing [Enter], such as Shop Owners, Villagers, or Sign Posts. See the Game Art page to choose any art asset to set for your interactable sprite. The arguments that must be set for an interactable sprite are the x and y position, and the graphic. Be sure that the x and y values are set to <span class="highlight-code">integers</span> and the graphic is set to a <span class="highlight-code">string</span>. The notated code to spawn an interactable sprite is below:</p>

<code>Spawn.interactableSprite(<span class="highlight-this">x:Int</span>, <span class="highlight-this">y:Int</span>, <span class="highlight-this">graphic:String</span>);
</code>

<p>Here is an example with values:</p>

<code class="example">Spawn.interactableSprite(200, 400, "assets/images/sign.png");
</code>

<p>An interactable sprite on it's own isn't very useful until we define what happens when the player interacts with the item. We will get to that when we go over some useful <em>functions</em>.</p>

<h4>Interactable Methods</h4>

<code><span class="comment">// methods, need docs for these</span>

<span class="comment">// how to interact with an interactable
// if we have an interactable Person named townMayor</span>

townMayor.interact = function(){
  // define what happens when we interact with the townMayor
}

<span class="comment">// talk("string")</span>
talk("string")

<span class="comment">// receiveItem(), item has to be in inventory</span>
receiveItem(itemVariableName)

<span class="comment">// hasItem(), checks if interactable has item</span>
hasItem(itemVariableName)

<span class="comment">// despawn()</span>
despawn()

</code>

<h3 id="messages">Messages</h3>
<p>A message is a <em>text popup</em> that displays in the middle of the screen. A message can display when an interactable item is touched, or when some other condition is set. The message must be written as a <span class="highlight-code">string</span>. The notated code to spawn a message is below:</p>

<code>Spawn.message(<span class="highlight-this">message:String</span>);
</code>

<p>A message on it's own isn't very useful until it is combined with conditions for when it is triggered. We will get to that when we go over some useful <em>functions</em>.</p>

<h2 id="interact">Making Things Happen</h2>

<h3>Placing Objects Easily</h3>

<h4>Placing a Bunch of Walls</h4>
<p>Placing a bunch of walls can be very redundant especially if only a single thing in each of them is being changed:</p>
<code class="example">
// Placing some walls in a line on the game map.
// Notice only the "x" has changed.

Spawn.object(0, 0, "assets/images/wall-stone.png");
Spawn.object(40, 0, "assets/images/wall-stone.png");
Spawn.object(80, 0, "assets/images/wall-stone.png");
Spawn.object(120, 0, "assets/images/wall-stone.png");
Spawn.object(160, 0, "assets/images/wall-stone.png");
Spawn.object(200, 0, "assets/images/wall-stone.png");
Spawn.object(240, 0, "assets/images/wall-stone.png");
Spawn.object(280, 0, "assets/images/wall-stone.png");
Spawn.object(320, 0, "assets/images/wall-stone.png");
Spawn.object(360, 0, "assets/images/wall-stone.png");

</code>

<p>Set a variable representing the grid cell size to make it easier to place objects on the map. Also set a variable for the image that you are using. This way, you can focus on placing items at grid points, instead of pixel positions.</p>

<code class="example">// Set a variable for the tile size.
var tile_size = 40;

// Set a variable we will use for all walls.
var wall = "assets/images/wall-stone.png";

// Place some walls on the game map.
Spawn.object(0*tile, 0, wall);
Spawn.object(1*tile, 0, wall);
Spawn.object(2*tile, 0, wall);
Spawn.object(3*tile, 0, wall);
Spawn.object(4*tile, 0, wall);
Spawn.object(5*tile, 0, wall);
Spawn.object(6*tile, 0, wall);
Spawn.object(7*tile, 0, wall);
Spawn.object(8*tile, 0, wall);
Spawn.object(9*tile, 0, wall);

</code>
<p>Great! Now you have reduced the need for having to type the whole file name of the image every time by using a shorter variable name to remember it by. Now you can make it even less redundant by using a <em>for loop</em> to make it even less redundant:</p>
<code class="example">// Set a variable for the tile size.
var tile_size = 40;

// Set a variable to use for all walls.
var wall = "assets/images/wall-stone.png";

// Place some walls on the game map with a for loop.
// Note: This loop starts counting at 0 until 9. 10 total.
// 1. Starts a variable at 0.
// 2. If 'i' is less than 10.
// 3. Do whatever is in the loop body.
// 4. Add +1 to it.
// 5. Repeat until 'i' is not less than 10.

for (i = 0; i < 10; i++){
  Spawn.object( i * tile_size, 0, wall);
}

</code>

<p>The new code we have shortened to does exactly the same thing as the original code we started off with.  Let the code do the work for you.</p>

<h4>Player Lives</h4>
<p>By default, the hero has 3 lives. Lives are decremented when an enemy bumps into the hero. You can change the <em>optional</em> setting by setting a <span class="highlight-code">integer</span> for the number of lives the player should have.</p>

<code>player.life = <span class="highlight-this">"life:Int"</span>;
</code>

<p>Here is an example with a value:</p>
<code class="example">player.life = 5;
</code>
<p>Knowing this value can be useful as a check in conditional (if/else) statements.</p>
<h4>Interaction with a Message</h4>
<p>In order for an interactable sprite to do something, you will need the <em>interact</em> function.</p>

<p>First, define a new variable and set its value to an interactable sprite. In this example, the variable is called <em>messageFlag</em>.</p>

<code class="example">var messageFlag = Spawn.interactableSprite( 100, 50, "assets/images/item-flag-red.png");
</code>

<p>Next, use the <em>interact</em> function to create a new code block where we can set what happens when the item is interacted with:</p>

<code class="example">var messageFlag = Spawn.interactableSprite( 100, 50, "assets/images/item-flag-red.png");
messageFlag.interact = function(){
  <span class="comment">// Something will happen when the player interacts with "messageFlag".</span>

} 
</code>

<p>What can you define in here? Maybe...</p>

<code class="example">var messageFlag = Spawn.interactableSprite( 100, 50, "assets/images/item-flag-red.png");
messageFlag.interact = function(){
  Spawn.message('Finish 2 quests to win the game.');
} 
</code>

<p>This will display the message pop up with a short message.  We can use this to simulate things like talking characters when you interact with them. Let's make this a bit fancier and add a message depending on your current health.</p>

<code class="example">var messageFlag = Spawn.interactableSprite( 100, 50, "assets/images/item-flag-red.png");
messageFlag.interact = function(){
  // A new conditional statement is added!
  if( player.life < 5 ){
    Spawn.message('Are you sure you are ok?');
  }
  Spawn.message('Finish 3 quests to win the game.');
} 
</code>
<p>This adds an extra message if your health goes below 5 then continues to display the original message.  If your health is 5 and above, only the normal message will display.</p>

<h4>Tracking Progress</h4>
<p>In order for things to happen in a certain way, we need a way to track things or let the code know something now can be done.  We can do this in a lot of different ways, but one of the simplest ways are <em>booleans</em>!  This are values that only store a <em>true</em> or <em>false</em> value. So we need a way to track 3 quests:</p>

<code>
// Set to false, since they aren't supposed to be done.
var quest1Complete = false;
var quest2Complete = false;
var quest3Complete = false;
</code>

<p>Now we just need to set them to <em>true</em> when the player does something we want. We can do that in the next example.</p>

<h4>Triggering an Event by Collection an Item.</h4>
<p>Let's create a quick retrieval quest using the collectableSprite:</p>
<code>
var potion = Spawn.collectableSprite(280,280, "assets/images/item-potion-red.png");
potion.onCollect = function(){
  quest1Complete = true;
  Spawn.message("Quest 1 Complete!");
}
</code>
<p>When we pick up the potion, the <em>.onCollect</em> method will execute, which sets one of <em>boolean</em> we set earlier to <em>true</em>. It then also adds a little message telling the player that quest 1 is complete.</p>

<h4>Turning in an Item to an Interactable.</h4>
<p>Now that we have a potion in our inventory we can use it as a <em>boolean</em> to check with all sorts of things.  Let's create a character that wants a potion.</p>
<code>
  var potionPerson = Spawn.interactableSprite(360,280,"assets/images/person-female-2.png");

  // This uses the interact method from an interactableSprite.
  potionPerson.interact = function(){
    // Conditional statement used here to check!
    if( player.hasItem( potion ) === true ){
      quest2Complete = true;
      potionPerson.talk("Thanks! Just what I needed!");
      Spawn.message("Quest 2 Complete!");
      potionPerson.despawn();
    } else {
      potionPerson.talk("I could use a potion right now.");
    }
  }
</code>
<p>We use a handy method belonging to interactableSprites called <em>hasItem( some_collectable_variable_name )</em>.  This returns a boolean if you pass in the collectable's variable name inside it. If the player picked up the potion earlier, the code will check for it in the inventory when the player talks to the character and tells them they have passed Quest 2 and mark the quest boolean as complete (<em>true</em>). Also, we despawn the potion person so they go away once the quest is complete as well. If they talked to the person before picking up the potion, they will give a different message.</p>

<h4>Using Counters</h4>
<p>Now let's create a different type of quest. This quest will use a counter to count a goal. We will create an integer variable and start it at '0' and a small function that will add '1' everytime it is called:</p>
<code>
  var counter = 0;
  function addToCounter(){
    // This is the same as 'counter = counter + 1;'
    counter++;
  }
</code>
<p>You may have seen the <em>++</em> before and all it does is set the value of the variable 'counter' to it's old value + 1.  So if we run <em>addToCounter()</em> 10 times, our counter variable should have the value of 10.  Let's trigger the function by using the next example.</p>

<h4>Using Enemy Defeats as an Event Trigger</h4>
<p>Sometimes we want something to happen when we defeat an enemy.  For that we use the <em>onDeath()</em> method belonging to 'Enemy' objects.</p>
<code>
  var trex_image = "assets/images/creature-trex.png";
  // Using a loop to spawn monsters
  for( var i=0; i<10; i++ ){
    // Spawns monsters in a line
    var trexMonster = Spawn.enemy( 200 + (i * tile_size), 80, trex_image );
    trexMonster.onDeath = function(){
      addToCounter();
    }
  }
  var simpleWeapon = Spawn.weapon( 120, 160, "assets/images/item-sword-yellow.png");
</code>
<p>Whenever a monster dies, it will call the custom made function <em>addToCounter()</em> that will tick the counter. However, now what do we do with the counter.  Sure it can track a number, but it can be useful if it did something when we hit a certain number. Let's modify our <em>addToCounter()</em> to do something more.</p>
<code>
  function addToCounter(){
    if( counter >= 5 && quest3Complete === false ){
      quest3Complete = true;
      Spawn.message("You defeated enough monsters!");
      Spawn.message("Quest 3 Complete!");
    }
    counter++;
  }
</code>
<p>Now we turned our custom function into a conditional that will check if we defeated at least 5 monsters <em>AND</em> quest3Complete is not done yet.  The operator <em>&&</em> tells the conditional that both conditions passed into the 'if' statement need to be fulfilled. You can also use the operator <em>||</em> to mean <em>OR</em> where just 1 of the conditions need to be fulfilled to activate.</p>

<h4>Initating Gameover</h4>
<p>Now that we have 3 or so quests done. We can probably end the game now.  Let's go back to the messageFlag that told us our winning conditions.</p>
<code>
  messageFlag.interact = function(){
    if( player.life < 5 ){
      Spawn.message('Are you sure you are ok?');
    }

    // Not very elegant, but it will get the job done!
    if( quest1Complete === true && quest2Complete === true && quest3Complete === true ){
      Spawn.message("You did it!");
      Spawn.gameWin();
    } else {
      Spawn.message('Finish 3 quests to win the game.');
    }
  } 
</code>
<p>This will send the player to the "Game Win" screen using the <em>Spawn.gameWinText</em> when all booleans you set earlier are true when you talk to the flag.  Alternatively you can call the <em>.gameOver()</em> method to send the player to a "Game Over" screen that can display a different message based on <em>Spawn.gameOverText</em>, which can be helpful if you want to force a 'bad' ending.</p>
<!-- END DOCS -->

        </div>
        <div class="small-12 large-4 columns">
          <h3>
            Programming Difficulty
          </h3>
          <p class="rating">
            <span class="fa fa-star fa-2x"></span>
            <span class="fa fa-star fa-2x"></span>
            <span class="fa fa-star fa-2x"></span>
            <span class="fa fa-star-o fa-2x"></span>
            <span class="fa fa-star-o fa-2x"></span>
          </p>
          <p class="small">Requires some knowledge of Javascript. Game level programming can be easy if code blocks are copied and pasted from documentation. Programming is more challenging if complex logic is desired for intricate timing.</p>
          <h3>
            Documentation
          </h3>
          <p class="sidebar-materials">
            <a href="#programming-101" class="sidebar-button"><i class="fa fa-book"></i>Programming 101</a>
            <a href="#intro" class="sidebar-button"><i class="fa fa-book"></i>Game Intro &amp; Ending</a>
            <a href="#game-elements" class="sidebar-button"><i class="fa fa-book"></i>Game Elements</a>
            <a href="#interaction" class="sidebar-button"><i class="fa fa-book"></i>Making Things Happen</a>
          </p>
          <!-- <h3>
            Project Resources
          </h3>
          <p class="sidebar-resources">
            <a href="/SpawnHeroRPG.zip" target="_blank" class="sidebar-button"><i class="fa fa-cloud-download"></i>Project Starter Files</a>
            <a href="/images/SpawnHeroRPG-PaperPrototype.pdf" target="_blank" class="sidebar-button"><i class="fa fa-print"></i>Printable Grid Template</a>
            <a href="/images/RPG-Prototype-in-Illustrator.ai" target="_blank" class="sidebar-button"><i class="fa fa-cloud-download"></i>Illustrator Grid Template</a>
          </p> -->
          <h3>
            Publish Your Game
          </h3>
          <p class="sidebar-publish">
            <a href="/upload" class="sidebar-button"><i class="fa fa-upload"></i>Upload Your Game Level</a>
          </p>
        </div>
      </div>
    </div>

  </div><!--#content-->

  <div class="footer-container">
    <div class="row">
      <div class='small-12 columns'>
        <div class="footer">
          <p><a href="http://stem.gomagames.com">stem.gomagames.com</a></p>
        </div><!--.footer-->
      </div>
    </div><!--.row-->
  </div><!--.footer-container-->

  <script src="/scripts/jquery.js"></script>
  <script src="/scripts/what-input.js"></script>
  <script src="/scripts/foundation.js"></script>
  <script src="/scripts/app.js"></script>
</body>
</html>
